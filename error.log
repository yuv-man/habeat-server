{"level":"error","message":"Error generating meal plan: GEMINI_API_KEY is not configured in environment variables","service":"meal-planner-server","stack":"Error: GEMINI_API_KEY is not configured in environment variables\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:57:13)\n    at GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:25)\n    at GeneratorController.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.controller.ts:43:34)\n    at /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:38:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 14:07:04"}
{"level":"error","message":"Error generating meal plan: GEMINI_API_KEY is not configured. Set AI_PROVIDER=llama to use Llama, or configure GEMINI_API_KEY for Gemini.","service":"meal-planner-server","stack":"Error: GEMINI_API_KEY is not configured. Set AI_PROVIDER=llama to use Llama, or configure GEMINI_API_KEY for Gemini.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:133:13)\n    at GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:25)\n    at GeneratorController.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.controller.ts:43:34)\n    at /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:38:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 14:57:26"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:802:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:854:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-27 15:17:36"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:802:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:854:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-27 15:17:36"}
{"level":"error","message":"Error generating meal plan: All models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:860:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 15:17:36"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:802:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:854:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":503,"statusText":"Service Unavailable","timestamp":"2025-11-27 15:25:42"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:802:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:854:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":503,"statusText":"Service Unavailable","timestamp":"2025-11-27 15:25:46"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:802:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:854:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":503,"statusText":"Service Unavailable","timestamp":"2025-11-27 15:25:49"}
{"level":"error","message":"Error generating meal plan: All models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: All models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:860:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 15:25:49"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:803:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:879:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":503,"statusText":"Service Unavailable","timestamp":"2025-11-27 15:30:49"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [503 Service Unavailable] The model is overloaded. Please try again later.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:803:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:879:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":503,"statusText":"Service Unavailable","timestamp":"2025-11-27 15:30:59"}
{"level":"error","message":"Failed to parse AI response: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-11-27 15:33:05"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:783:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:803:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:879:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 15:33:05"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:803:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:879:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-27 15:33:06"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:730:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:803:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:879:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-27 15:33:06"}
{"level":"error","message":"Error generating meal plan: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:930:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-27 15:33:06"}
{"level":"error","message":"Error generating meal plan with Llama2: Ollama is not running at http://192.168.1.100:11434. Start Ollama first with: ollama serve","service":"meal-planner-server","stack":"Error: Ollama is not running at http://192.168.1.100:11434. Start Ollama first with: ollama serve\n    at callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:40:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1229:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:112:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-30 13:40:54"}
{"level":"error","message":"Failed to parse AI response: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-11-30 13:43:30"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:824:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-30 13:43:30"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:752:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-30 13:43:30"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:752:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-30 13:43:30"}
{"level":"error","message":"Error generating meal plan: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:971:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-30 13:43:30"}
{"code":"ERR_BAD_RESPONSE","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"model\":\"llama2\",\"prompt\":\"As a certified nutritionist, create a personalized weekly meal plan optimized for healthy. \\n      \\n  Client Profile:\\n  - 30 year old male, 175cm, 70kg\\n  - Daily targets: 2628 calories\\n    * Breakfast: 657 cal (25%) - focus on energy and metabolism\\n    * Lunch: 920 cal (35%) - peak nutrition for daily activities\\n    * Dinner: 788 cal (30%) - balanced recovery\\n    * Snacks: 263 cal (10%) - sustained energy\\n  - Macro Distribution:\\n    * Protein: 164g for muscle maintenance and recovery\\n    * Carbs: 296g for energy and performance\\n    * Fat: 88g for hormonal balance and satiety\\n  - Health Considerations: Allergies to string\\n  - Dietary Protocol: string\\n  \\n  Path Guidelines for healthy:\\n  Focus on balanced nutrition with whole foods, variety, and sustainable eating habits.\\n  \\n  Exercise Integration:\\n  - 3 structured workouts/week on: monday, wednesday, friday\\n  - Focus on progressive overload and recovery cycles\\n  \\n  Meal Plan Period:\\n  monday (2023-12-31), tuesday (2024-01-01), wednesday (2024-01-02), thursday (2024-01-03), friday (2024-01-04), saturday (2024-01-05), sunday (2024-01-06)\\n  \\n  Requirements:\\n  1. Each meal must be nutrient-dense and support the healthy goals\\n  2. Include specific portions and ingredients for accurate tracking\\n  3. Consider meal timing relative to workouts\\n  4. Ensure variety while maintaining consistent macro distribution\\n  5. Follow the path guidelines above for healthy\\n  6. Language: english\\n  \\n  Return ONLY a JSON object where each meal includes:\\n  - name: descriptive and specific\\n  - category: [breakfast,lunch,dinner,snack]\\n  - tags: [tag1,tag2,tag3]\\n  - calories: exact count\\n  - macros: protein, carbs, fat in grams\\n  - ingredients: array of strings in format \\\"ingredient_name|portion_amount|unit\\\" (e.g. \\\"potato|200|g\\\", \\\"egg|2|unit\\\", \\\"olive_oil|15|ml\\\")\\n  - prepTime: in minutes\\n  - benefits: array of health benefits specific to healthy\\n  \\n  IMPORTANT: For ingredients, always use base ingredient names (e.g. \\\"potato\\\" not \\\"boiled potato\\\", \\\"chicken_breast\\\" not \\\"grilled chicken\\\") and separate with underscores if needed. This helps with shopping list creation.\\n  \\n  Workouts must specify:\\n  - category: [cardio,strength,flexibility,balance,endurance,yoga,pilates,hiit,running,cycling,swimming,walking,bodyweight,weights,core,stretching] - must be one of these exact values\\n  - duration: minutes\\n  - caloriesBurned: estimated expenditure\\n  - intensity: relative to client's level\\n  \\n  JSON Structure (MUST FOLLOW EXACTLY):\\n  {\\n    \\\"weeklyPlan\\\": [\\n      {\\n        \\\"day\\\": \\\"monday\\\",\\n        \\\"meals\\\": {\\n          \\\"breakfast\\\": {\\n            \\\"name\\\": \\\"string\\\",\\n            \\\"category\\\": \\\"breakfast\\\",\\n            \\\"tags\\\": [\\\"string\\\"],\\n            \\\"calories\\\": number,\\n            \\\"macros\\\": {\\\"protein\\\": number, \\\"carbs\\\": number, \\\"fat\\\": number},\\n            \\\"ingredients\\\": [\\\"string\\\"],\\n            \\\"prepTime\\\": number,\\n            \\\"benefits\\\": [\\\"string\\\"]\\n          },\\n          \\\"lunch\\\": { ... },\\n          \\\"dinner\\\": { ... },\\n          \\\"snacks\\\": [{ \\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"snack\\\", \\\"tags\\\": [\\\"string\\\"], \\\"calories\\\": number, \\\"macros\\\": {...}, \\\"ingredients\\\": [\\\"string\\\"], \\\"prepTime\\\": number, \\\"benefits\\\": [\\\"string\\\"] }]\\n        },\\n        \\\"hydration\\\": {\\\"waterTarget\\\": 2000, \\\"recommendations\\\": [\\\"string\\\"]},\\n        \\\"workouts\\\": [{\\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"cardio|strength|flexibility|sports\\\", \\\"duration\\\": number, \\\"caloriesBurned\\\": number, \\\"intensity\\\": \\\"low|moderate|high\\\"}]\\n      }\\n    ]\\n  }\\n\\nIMPORTANT: You MUST return ONLY a complete meal plan for all 7 days (Monday through Sunday) as a valid JSON object. No other text, explanations, or markdown formatting.\\n\\nReturn ONLY the JSON object. No other text or formatting.\",\"stream\":false,\"options\":{\"temperature\":0.7,\"top_p\":0.9,\"top_k\":40}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"3952","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":300000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:11434/api/generate","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"Request failed with status code 500","name":"AxiosError","request":{"_closed":true,"_contentLength":3952,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /api/generate HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.11.0\r\nContent-Length: 3952\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:11434\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:11434/api/generate","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"3952","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"agentKeepAliveTimeoutBuffer":1000,"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"defaultPort":443,"keepAlive":true,"noDelay":true,"path":null,"protocol":"https:","scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/api/generate","pathname":"/api/generate","port":"11434","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":3952,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/api/generate","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Type","application/json; charset=utf-8","Date","Sun, 30 Nov 2025 11:51:48 GMT","Content-Length","83"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:11434/api/generate","socket":null,"statusCode":500,"statusMessage":"Internal Server Error","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"response":{"config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"model\":\"llama2\",\"prompt\":\"As a certified nutritionist, create a personalized weekly meal plan optimized for healthy. \\n      \\n  Client Profile:\\n  - 30 year old male, 175cm, 70kg\\n  - Daily targets: 2628 calories\\n    * Breakfast: 657 cal (25%) - focus on energy and metabolism\\n    * Lunch: 920 cal (35%) - peak nutrition for daily activities\\n    * Dinner: 788 cal (30%) - balanced recovery\\n    * Snacks: 263 cal (10%) - sustained energy\\n  - Macro Distribution:\\n    * Protein: 164g for muscle maintenance and recovery\\n    * Carbs: 296g for energy and performance\\n    * Fat: 88g for hormonal balance and satiety\\n  - Health Considerations: Allergies to string\\n  - Dietary Protocol: string\\n  \\n  Path Guidelines for healthy:\\n  Focus on balanced nutrition with whole foods, variety, and sustainable eating habits.\\n  \\n  Exercise Integration:\\n  - 3 structured workouts/week on: monday, wednesday, friday\\n  - Focus on progressive overload and recovery cycles\\n  \\n  Meal Plan Period:\\n  monday (2023-12-31), tuesday (2024-01-01), wednesday (2024-01-02), thursday (2024-01-03), friday (2024-01-04), saturday (2024-01-05), sunday (2024-01-06)\\n  \\n  Requirements:\\n  1. Each meal must be nutrient-dense and support the healthy goals\\n  2. Include specific portions and ingredients for accurate tracking\\n  3. Consider meal timing relative to workouts\\n  4. Ensure variety while maintaining consistent macro distribution\\n  5. Follow the path guidelines above for healthy\\n  6. Language: english\\n  \\n  Return ONLY a JSON object where each meal includes:\\n  - name: descriptive and specific\\n  - category: [breakfast,lunch,dinner,snack]\\n  - tags: [tag1,tag2,tag3]\\n  - calories: exact count\\n  - macros: protein, carbs, fat in grams\\n  - ingredients: array of strings in format \\\"ingredient_name|portion_amount|unit\\\" (e.g. \\\"potato|200|g\\\", \\\"egg|2|unit\\\", \\\"olive_oil|15|ml\\\")\\n  - prepTime: in minutes\\n  - benefits: array of health benefits specific to healthy\\n  \\n  IMPORTANT: For ingredients, always use base ingredient names (e.g. \\\"potato\\\" not \\\"boiled potato\\\", \\\"chicken_breast\\\" not \\\"grilled chicken\\\") and separate with underscores if needed. This helps with shopping list creation.\\n  \\n  Workouts must specify:\\n  - category: [cardio,strength,flexibility,balance,endurance,yoga,pilates,hiit,running,cycling,swimming,walking,bodyweight,weights,core,stretching] - must be one of these exact values\\n  - duration: minutes\\n  - caloriesBurned: estimated expenditure\\n  - intensity: relative to client's level\\n  \\n  JSON Structure (MUST FOLLOW EXACTLY):\\n  {\\n    \\\"weeklyPlan\\\": [\\n      {\\n        \\\"day\\\": \\\"monday\\\",\\n        \\\"meals\\\": {\\n          \\\"breakfast\\\": {\\n            \\\"name\\\": \\\"string\\\",\\n            \\\"category\\\": \\\"breakfast\\\",\\n            \\\"tags\\\": [\\\"string\\\"],\\n            \\\"calories\\\": number,\\n            \\\"macros\\\": {\\\"protein\\\": number, \\\"carbs\\\": number, \\\"fat\\\": number},\\n            \\\"ingredients\\\": [\\\"string\\\"],\\n            \\\"prepTime\\\": number,\\n            \\\"benefits\\\": [\\\"string\\\"]\\n          },\\n          \\\"lunch\\\": { ... },\\n          \\\"dinner\\\": { ... },\\n          \\\"snacks\\\": [{ \\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"snack\\\", \\\"tags\\\": [\\\"string\\\"], \\\"calories\\\": number, \\\"macros\\\": {...}, \\\"ingredients\\\": [\\\"string\\\"], \\\"prepTime\\\": number, \\\"benefits\\\": [\\\"string\\\"] }]\\n        },\\n        \\\"hydration\\\": {\\\"waterTarget\\\": 2000, \\\"recommendations\\\": [\\\"string\\\"]},\\n        \\\"workouts\\\": [{\\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"cardio|strength|flexibility|sports\\\", \\\"duration\\\": number, \\\"caloriesBurned\\\": number, \\\"intensity\\\": \\\"low|moderate|high\\\"}]\\n      }\\n    ]\\n  }\\n\\nIMPORTANT: You MUST return ONLY a complete meal plan for all 7 days (Monday through Sunday) as a valid JSON object. No other text, explanations, or markdown formatting.\\n\\nReturn ONLY the JSON object. No other text or formatting.\",\"stream\":false,\"options\":{\"temperature\":0.7,\"top_p\":0.9,\"top_k\":40}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"3952","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":300000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:11434/api/generate","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"data":{"error":"model requires more system memory (5.5 GiB) than is available (5.5 GiB)"},"headers":{"content-length":"83","content-type":"application/json; charset=utf-8","date":"Sun, 30 Nov 2025 11:51:48 GMT"},"request":{"_closed":true,"_contentLength":3952,"_defaultKeepAlive":true,"_ended":true,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /api/generate HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.11.0\r\nContent-Length: 3952\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:11434\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":{"_currentRequest":"[Circular]","_currentUrl":"http://localhost:11434/api/generate","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"3952","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"agentKeepAliveTimeoutBuffer":1000,"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"defaultPort":443,"keepAlive":true,"noDelay":true,"path":null,"protocol":"https:","scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/api/generate","pathname":"/api/generate","port":"11434","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[],"_requestBodyLength":3952,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0}},"_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000}]},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":true,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":null,"path":"/api/generate","protocol":"http:","res":{"_consuming":false,"_dumped":false,"_events":{"end":[null,null]},"_eventsCount":4,"_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"aborted":false,"client":{"_closeAfterHandlingError":false,"_events":{"timeout":[null,null]},"_eventsCount":6,"_hadError":false,"_host":"localhost","_httpMessage":null,"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":null,"server":null,"timeout":5000},"complete":true,"httpVersion":"1.1","httpVersionMajor":1,"httpVersionMinor":1,"method":null,"rawHeaders":["Content-Type","application/json; charset=utf-8","Date","Sun, 30 Nov 2025 11:51:48 GMT","Content-Length","83"],"rawTrailers":[],"redirects":[],"req":"[Circular]","responseUrl":"http://localhost:11434/api/generate","socket":null,"statusCode":500,"statusMessage":"Internal Server Error","upgrade":false,"url":""},"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"strictContentLength":false,"timeoutCb":null,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"status":500,"statusText":"Internal Server Error"},"service":"meal-planner-server","stack":"AxiosError: Request failed with status code 500\n    at settle (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/axios/lib/adapters/http.js:599:11)\n    at IncomingMessage.emit (node:events:531:35)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/axios/lib/core/Axios.js:45:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:46:22)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1229:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:112:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":500,"timestamp":"2025-11-30 13:51:48"}
{"level":"error","message":"Failed to parse AI response: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-11-30 13:53:46"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:824:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-30 13:53:46"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:752:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-30 13:53:46"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:752:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:844:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:920:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-11-30 13:53:46"}
{"level":"error","message":"Error generating meal plan: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:971:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:47:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-11-30 13:53:46"}
{"code":"ECONNABORTED","config":{"adapter":["xhr","http","fetch"],"allowAbsoluteUrls":true,"data":"{\"model\":\"llama3.2:1b\",\"prompt\":\"As a certified nutritionist, create a personalized weekly meal plan optimized for healthy. \\n      \\n  Client Profile:\\n  - 30 year old male, 175cm, 70kg\\n  - Daily targets: 2628 calories\\n    * Breakfast: 657 cal (25%) - focus on energy and metabolism\\n    * Lunch: 920 cal (35%) - peak nutrition for daily activities\\n    * Dinner: 788 cal (30%) - balanced recovery\\n    * Snacks: 263 cal (10%) - sustained energy\\n  - Macro Distribution:\\n    * Protein: 164g for muscle maintenance and recovery\\n    * Carbs: 296g for energy and performance\\n    * Fat: 88g for hormonal balance and satiety\\n  - Health Considerations: Allergies to string\\n  - Dietary Protocol: string\\n  \\n  Path Guidelines for healthy:\\n  Focus on balanced nutrition with whole foods, variety, and sustainable eating habits.\\n  \\n  Exercise Integration:\\n  - 3 structured workouts/week on: monday, wednesday, friday\\n  - Focus on progressive overload and recovery cycles\\n  \\n  Meal Plan Period:\\n  monday (2023-12-31), tuesday (2024-01-01), wednesday (2024-01-02), thursday (2024-01-03), friday (2024-01-04), saturday (2024-01-05), sunday (2024-01-06)\\n  \\n  Requirements:\\n  1. Each meal must be nutrient-dense and support the healthy goals\\n  2. Include specific portions and ingredients for accurate tracking\\n  3. Consider meal timing relative to workouts\\n  4. Ensure variety while maintaining consistent macro distribution\\n  5. Follow the path guidelines above for healthy\\n  6. Language: english\\n  \\n  Return ONLY a JSON object where each meal includes:\\n  - name: descriptive and specific meal name\\n  - category: [breakfast,lunch,dinner,snack]\\n  - tags: array of cuisine/category tags like [\\\"italian food\\\", \\\"fish\\\", \\\"meat\\\", \\\"vegetarian\\\", \\\"pasta\\\", \\\"chicken\\\", etc.] - use specific food categories\\n  - calories: exact count\\n  - macros: protein, carbs, fat in grams\\n  - ingredients: array of strings in format \\\"ingredient_name|amount|unit\\\" (e.g. \\\"potato|200|g\\\", \\\"egg|2|unit\\\", \\\"olive_oil|15|ml\\\")\\n  - prepTime: in minutes\\n  \\n  CRITICAL INGREDIENT RULES:\\n  1. Use ONLY raw/base ingredient names (e.g. \\\"egg\\\" not \\\"poached egg\\\", \\\"chicken_breast\\\" not \\\"grilled chicken\\\", \\\"tomato\\\" not \\\"cherry tomatoes\\\")\\n  2. Be SPECIFIC - no generic terms like \\\"mixed vegetables\\\" - list each vegetable separately (e.g. \\\"carrot\\\", \\\"broccoli\\\", \\\"bell_pepper\\\")\\n  3. Format: \\\"ingredient_name|amount|unit\\\" where:\\n     - ingredient_name: raw ingredient (use underscores for multi-word: \\\"olive_oil\\\", \\\"chicken_breast\\\")\\n     - amount: numeric value\\n     - unit: measurement unit (g, kg, ml, l, unit, cup, tbsp, tsp, etc.)\\n  4. Examples of CORRECT format:\\n     - \\\"egg|2|unit\\\" (not \\\"poached_egg|2|unit\\\")\\n     - \\\"chicken_breast|200|g\\\" (not \\\"grilled_chicken|200|g\\\")\\n     - \\\"avocado|1|unit\\\" (not \\\"avocado_1_170g\\\")\\n     - \\\"tomato|100|g\\\" (not \\\"cherry_tomatoes|100g|fresh|unit\\\")\\n     - \\\"whole_wheat_bread|1|slice\\\" (not \\\"whole_wheat_bread|1|85g\\\")\\n  5. NEVER combine multiple ingredients in one string - each ingredient must be separate\\n  \\n  Workouts must specify:\\n  - category: [cardio,strength,flexibility,balance,endurance,yoga,pilates,hiit,running,cycling,swimming,walking,bodyweight,weights,core,stretching] - must be one of these exact values\\n  - duration: minutes\\n  - caloriesBurned: estimated expenditure\\n  - intensity: relative to client's level\\n  \\n  JSON Structure (MUST FOLLOW EXACTLY):\\n  {\\n    \\\"weeklyPlan\\\": [\\n      {\\n        \\\"day\\\": \\\"monday\\\",\\n        \\\"meals\\\": {\\n          \\\"breakfast\\\": {\\n            \\\"name\\\": \\\"string\\\",\\n            \\\"category\\\": \\\"breakfast\\\",\\n            \\\"tags\\\": [\\\"string\\\"],\\n            \\\"calories\\\": number,\\n            \\\"macros\\\": {\\\"protein\\\": number, \\\"carbs\\\": number, \\\"fat\\\": number},\\n            \\\"ingredients\\\": [\\\"string\\\"],\\n            \\\"prepTime\\\": number\\n          },\\n          \\\"lunch\\\": { ... },\\n          \\\"dinner\\\": { ... },\\n          \\\"snacks\\\": [{ \\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"snack\\\", \\\"tags\\\": [\\\"string\\\"], \\\"calories\\\": number, \\\"macros\\\": {...}, \\\"ingredients\\\": [\\\"string\\\"], \\\"prepTime\\\": number }]\\n        },\\n        \\\"hydration\\\": {\\\"waterTarget\\\": 2000, \\\"recommendations\\\": [\\\"string\\\"]},\\n        \\\"workouts\\\": [{\\\"name\\\": \\\"string\\\", \\\"category\\\": \\\"cardio|strength|flexibility|sports\\\", \\\"duration\\\": number, \\\"caloriesBurned\\\": number, \\\"intensity\\\": \\\"low|moderate|high\\\"}]\\n      }\\n    ]\\n  }\\n\\nIMPORTANT: You MUST return ONLY a complete meal plan for all 7 days (Monday through Sunday) as a valid JSON object. No other text, explanations, or markdown formatting.\\n\\nReturn ONLY the JSON object. No other text or formatting.\",\"stream\":false,\"options\":{\"temperature\":0.7,\"top_p\":0.9,\"top_k\":40}}","env":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"4764","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"maxBodyLength":-1,"maxContentLength":-1,"method":"post","timeout":300000,"transformRequest":[null],"transformResponse":[null],"transitional":{"clarifyTimeoutError":false,"forcedJSONParsing":true,"silentJSONParsing":true},"url":"http://localhost:11434/api/generate","xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},"level":"error","message":"timeout of 300000ms exceeded","name":"AxiosError","request":{"_currentRequest":{"_closed":false,"_contentLength":4764,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /api/generate HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.11.0\r\nContent-Length: 4764\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:11434\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null],"end":[null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":false,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":{"0":null,"5":null,"6":null,"_consumed":false,"_headers":[],"_url":"","incoming":null,"maxHeaderPairs":2000,"outgoing":"[Circular]","socket":"[Circular]"},"server":null,"timeout":300000}]},"totalSocketCount":1},"chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":{"0":null,"5":null,"6":null,"_consumed":false,"_headers":[],"_url":"","incoming":null,"maxHeaderPairs":2000,"outgoing":"[Circular]","socket":{"_closeAfterHandlingError":false,"_events":{"close":[null,null],"end":[null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":false,"_host":"localhost","_httpMessage":"[Circular]","_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":"[Circular]","server":null,"timeout":300000}},"path":"/api/generate","protocol":"http:","res":null,"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"_currentUrl":"http://localhost:11434/api/generate","_ended":true,"_ending":true,"_events":{"socket":[null,null]},"_eventsCount":3,"_options":{"agents":{},"beforeRedirects":{},"headers":{"Accept":"application/json, text/plain, */*","Accept-Encoding":"gzip, compress, deflate, br","Content-Length":"4764","Content-Type":"application/json","User-Agent":"axios/1.11.0"},"hostname":"localhost","maxBodyLength":null,"maxRedirects":21,"method":"POST","nativeProtocols":{"http:":{"METHODS":["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","QUERY","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"],"STATUS_CODES":{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"},"globalAgent":{"_events":{},"_eventsCount":2,"agentKeepAliveTimeoutBuffer":1000,"defaultPort":80,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"keepAlive":true,"noDelay":true,"path":null,"scheduling":"lifo","timeout":5000},"protocol":"http:","requests":{},"scheduling":"lifo","sockets":{"localhost:11434:":[{"_closeAfterHandlingError":false,"_events":{"close":[null,null],"end":[null,null],"timeout":[null,null,null]},"_eventsCount":8,"_hadError":false,"_host":"localhost","_httpMessage":{"_closed":false,"_contentLength":4764,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /api/generate HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.11.0\r\nContent-Length: 4764\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:11434\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":{"0":null,"5":null,"6":null,"_consumed":false,"_headers":[],"_url":"","incoming":null,"maxHeaderPairs":2000,"outgoing":"[Circular]","socket":"[Circular]"},"path":"/api/generate","protocol":"http:","res":null,"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"_parent":null,"_pendingData":null,"_pendingEncoding":"","_readableState":{"awaitDrainWriters":null,"buffer":[],"bufferIndex":0,"highWaterMark":65536,"length":0,"pipes":[]},"_server":null,"_sockname":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0},"allowHalfOpen":false,"autoSelectFamilyAttemptedAddresses":["::1:11434"],"connecting":false,"parser":{"0":null,"5":null,"6":null,"_consumed":false,"_headers":[],"_url":"","incoming":null,"maxHeaderPairs":2000,"outgoing":{"_closed":false,"_contentLength":4764,"_defaultKeepAlive":true,"_ended":false,"_events":{},"_eventsCount":7,"_hasBody":true,"_header":"POST /api/generate HTTP/1.1\r\nAccept: application/json, text/plain, */*\r\nContent-Type: application/json\r\nUser-Agent: axios/1.11.0\r\nContent-Length: 4764\r\nAccept-Encoding: gzip, compress, deflate, br\r\nHost: localhost:11434\r\nConnection: keep-alive\r\n\r\n","_headerSent":true,"_keepAliveTimeout":0,"_last":false,"_redirectable":"[Circular]","_removedConnection":false,"_removedContLen":false,"_removedTE":false,"_trailer":"","aborted":false,"agent":"[Circular]","chunkedEncoding":false,"destroyed":false,"finished":true,"host":"localhost","maxHeadersCount":null,"maxRequestsOnConnectionReached":false,"method":"POST","outputData":[],"outputSize":0,"parser":"[Circular]","path":"/api/generate","protocol":"http:","res":null,"reusedSocket":true,"sendDate":false,"shouldKeepAlive":true,"strictContentLength":false,"upgradeOrConnect":false,"useChunkedEncodingByDefault":true,"writable":true},"socket":"[Circular]"},"server":null,"timeout":300000}]},"totalSocketCount":1},"maxHeaderSize":16384},"https:":{"globalAgent":{"_events":{},"_eventsCount":2,"_sessionCache":{"list":[],"map":{}},"agentKeepAliveTimeoutBuffer":1000,"defaultPort":443,"freeSockets":{},"keepAlive":true,"keepAliveMsecs":1000,"maxCachedSessions":100,"maxFreeSockets":256,"maxSockets":null,"maxTotalSockets":null,"options":{"defaultPort":443,"keepAlive":true,"noDelay":true,"path":null,"protocol":"https:","scheduling":"lifo","timeout":5000},"protocol":"https:","requests":{},"scheduling":"lifo","sockets":{},"totalSocketCount":0}}},"path":"/api/generate","pathname":"/api/generate","port":"11434","protocol":"http:"},"_redirectCount":0,"_redirects":[],"_requestBodyBuffers":[{"data":{"data":[123,34,109,111,100,101,108,34,58,34,108,108,97,109,97,51,46,50,58,49,98,34,44,34,112,114,111,109,112,116,34,58,34,65,115,32,97,32,99,101,114,116,105,102,105,101,100,32,110,117,116,114,105,116,105,111,110,105,115,116,44,32,99,114,101,97,116,101,32,97,32,112,101,114,115,111,110,97,108,105,122,101,100,32,119,101,101,107,108,121,32,109,101,97,108,32,112,108,97,110,32,111,112,116,105,109,105,122,101,100,32,102,111,114,32,104,101,97,108,116,104,121,46,32,92,110,32,32,32,32,32,32,92,110,32,32,67,108,105,101,110,116,32,80,114,111,102,105,108,101,58,92,110,32,32,45,32,51,48,32,121,101,97,114,32,111,108,100,32,109,97,108,101,44,32,49,55,53,99,109,44,32,55,48,107,103,92,110,32,32,45,32,68,97,105,108,121,32,116,97,114,103,101,116,115,58,32,50,54,50,56,32,99,97,108,111,114,105,101,115,92,110,32,32,32,32,42,32,66,114,101,97,107,102,97,115,116,58,32,54,53,55,32,99,97,108,32,40,50,53,37,41,32,45,32,102,111,99,117,115,32,111,110,32,101,110,101,114,103,121,32,97,110,100,32,109,101,116,97,98,111,108,105,115,109,92,110,32,32,32,32,42,32,76,117,110,99,104,58,32,57,50,48,32,99,97,108,32,40,51,53,37,41,32,45,32,112,101,97,107,32,110,117,116,114,105,116,105,111,110,32,102,111,114,32,100,97,105,108,121,32,97,99,116,105,118,105,116,105,101,115,92,110,32,32,32,32,42,32,68,105,110,110,101,114,58,32,55,56,56,32,99,97,108,32,40,51,48,37,41,32,45,32,98,97,108,97,110,99,101,100,32,114,101,99,111,118,101,114,121,92,110,32,32,32,32,42,32,83,110,97,99,107,115,58,32,50,54,51,32,99,97,108,32,40,49,48,37,41,32,45,32,115,117,115,116,97,105,110,101,100,32,101,110,101,114,103,121,92,110,32,32,45,32,77,97,99,114,111,32,68,105,115,116,114,105,98,117,116,105,111,110,58,92,110,32,32,32,32,42,32,80,114,111,116,101,105,110,58,32,49,54,52,103,32,102,111,114,32,109,117,115,99,108,101,32,109,97,105,110,116,101,110,97,110,99,101,32,97,110,100,32,114,101,99,111,118,101,114,121,92,110,32,32,32,32,42,32,67,97,114,98,115,58,32,50,57,54,103,32,102,111,114,32,101,110,101,114,103,121,32,97,110,100,32,112,101,114,102,111,114,109,97,110,99,101,92,110,32,32,32,32,42,32,70,97,116,58,32,56,56,103,32,102,111,114,32,104,111,114,109,111,110,97,108,32,98,97,108,97,110,99,101,32,97,110,100,32,115,97,116,105,101,116,121,92,110,32,32,45,32,72,101,97,108,116,104,32,67,111,110,115,105,100,101,114,97,116,105,111,110,115,58,32,65,108,108,101,114,103,105,101,115,32,116,111,32,115,116,114,105,110,103,92,110,32,32,45,32,68,105,101,116,97,114,121,32,80,114,111,116,111,99,111,108,58,32,115,116,114,105,110,103,92,110,32,32,92,110,32,32,80,97,116,104,32,71,117,105,100,101,108,105,110,101,115,32,102,111,114,32,104,101,97,108,116,104,121,58,92,110,32,32,70,111,99,117,115,32,111,110,32,98,97,108,97,110,99,101,100,32,110,117,116,114,105,116,105,111,110,32,119,105,116,104,32,119,104,111,108,101,32,102,111,111,100,115,44,32,118,97,114,105,101,116,121,44,32,97,110,100,32,115,117,115,116,97,105,110,97,98,108,101,32,101,97,116,105,110,103,32,104,97,98,105,116,115,46,92,110,32,32,92,110,32,32,69,120,101,114,99,105,115,101,32,73,110,116,101,103,114,97,116,105,111,110,58,92,110,32,32,45,32,51,32,115,116,114,117,99,116,117,114,101,100,32,119,111,114,107,111,117,116,115,47,119,101,101,107,32,111,110,58,32,109,111,110,100,97,121,44,32,119,101,100,110,101,115,100,97,121,44,32,102,114,105,100,97,121,92,110,32,32,45,32,70,111,99,117,115,32,111,110,32,112,114,111,103,114,101,115,115,105,118,101,32,111,118,101,114,108,111,97,100,32,97,110,100,32,114,101,99,111,118,101,114,121,32,99,121,99,108,101,115,92,110,32,32,92,110,32,32,77,101,97,108,32,80,108,97,110,32,80,101,114,105,111,100,58,92,110,32,32,109,111,110,100,97,121,32,40,50,48,50,51,45,49,50,45,51,49,41,44,32,116,117,101,115,100,97,121,32,40,50,48,50,52,45,48,49,45,48,49,41,44,32,119,101,100,110,101,115,100,97,121,32,40,50,48,50,52,45,48,49,45,48,50,41,44,32,116,104,117,114,115,100,97,121,32,40,50,48,50,52,45,48,49,45,48,51,41,44,32,102,114,105,100,97,121,32,40,50,48,50,52,45,48,49,45,48,52,41,44,32,115,97,116,117,114,100,97,121,32,40,50,48,50,52,45,48,49,45,48,53,41,44,32,115,117,110,100,97,121,32,40,50,48,50,52,45,48,49,45,48,54,41,92,110,32,32,92,110,32,32,82,101,113,117,105,114,101,109,101,110,116,115,58,92,110,32,32,49,46,32,69,97,99,104,32,109,101,97,108,32,109,117,115,116,32,98,101,32,110,117,116,114,105,101,110,116,45,100,101,110,115,101,32,97,110,100,32,115,117,112,112,111,114,116,32,116,104,101,32,104,101,97,108,116,104,121,32,103,111,97,108,115,92,110,32,32,50,46,32,73,110,99,108,117,100,101,32,115,112,101,99,105,102,105,99,32,112,111,114,116,105,111,110,115,32,97,110,100,32,105,110,103,114,101,100,105,101,110,116,115,32,102,111,114,32,97,99,99,117,114,97,116,101,32,116,114,97,99,107,105,110,103,92,110,32,32,51,46,32,67,111,110,115,105,100,101,114,32,109,101,97,108,32,116,105,109,105,110,103,32,114,101,108,97,116,105,118,101,32,116,111,32,119,111,114,107,111,117,116,115,92,110,32,32,52,46,32,69,110,115,117,114,101,32,118,97,114,105,101,116,121,32,119,104,105,108,101,32,109,97,105,110,116,97,105,110,105,110,103,32,99,111,110,115,105,115,116,101,110,116,32,109,97,99,114,111,32,100,105,115,116,114,105,98,117,116,105,111,110,92,110,32,32,53,46,32,70,111,108,108,111,119,32,116,104,101,32,112,97,116,104,32,103,117,105,100,101,108,105,110,101,115,32,97,98,111,118,101,32,102,111,114,32,104,101,97,108,116,104,121,92,110,32,32,54,46,32,76,97,110,103,117,97,103,101,58,32,101,110,103,108,105,115,104,92,110,32,32,92,110,32,32,82,101,116,117,114,110,32,79,78,76,89,32,97,32,74,83,79,78,32,111,98,106,101,99,116,32,119,104,101,114,101,32,101,97,99,104,32,109,101,97,108,32,105,110,99,108,117,100,101,115,58,92,110,32,32,45,32,110,97,109,101,58,32,100,101,115,99,114,105,112,116,105,118,101,32,97,110,100,32,115,112,101,99,105,102,105,99,32,109,101,97,108,32,110,97,109,101,92,110,32,32,45,32,99,97,116,101,103,111,114,121,58,32,91,98,114,101,97,107,102,97,115,116,44,108,117,110,99,104,44,100,105,110,110,101,114,44,115,110,97,99,107,93,92,110,32,32,45,32,116,97,103,115,58,32,97,114,114,97,121,32,111,102,32,99,117,105,115,105,110,101,47,99,97,116,101,103,111,114,121,32,116,97,103,115,32,108,105,107,101,32,91,92,34,105,116,97,108,105,97,110,32,102,111,111,100,92,34,44,32,92,34,102,105,115,104,92,34,44,32,92,34,109,101,97,116,92,34,44,32,92,34,118,101,103,101,116,97,114,105,97,110,92,34,44,32,92,34,112,97,115,116,97,92,34,44,32,92,34,99,104,105,99,107,101,110,92,34,44,32,101,116,99,46,93,32,45,32,117,115,101,32,115,112,101,99,105,102,105,99,32,102,111,111,100,32,99,97,116,101,103,111,114,105,101,115,92,110,32,32,45,32,99,97,108,111,114,105,101,115,58,32,101,120,97,99,116,32,99,111,117,110,116,92,110,32,32,45,32,109,97,99,114,111,115,58,32,112,114,111,116,101,105,110,44,32,99,97,114,98,115,44,32,102,97,116,32,105,110,32,103,114,97,109,115,92,110,32,32,45,32,105,110,103,114,101,100,105,101,110,116,115,58,32,97,114,114,97,121,32,111,102,32,115,116,114,105,110,103,115,32,105,110,32,102,111,114,109,97,116,32,92,34,105,110,103,114,101,100,105,101,110,116,95,110,97,109,101,124,97,109,111,117,110,116,124,117,110,105,116,92,34,32,40,101,46,103,46,32,92,34,112,111,116,97,116,111,124,50,48,48,124,103,92,34,44,32,92,34,101,103,103,124,50,124,117,110,105,116,92,34,44,32,92,34,111,108,105,118,101,95,111,105,108,124,49,53,124,109,108,92,34,41,92,110,32,32,45,32,112,114,101,112,84,105,109,101,58,32,105,110,32,109,105,110,117,116,101,115,92,110,32,32,92,110,32,32,67,82,73,84,73,67,65,76,32,73,78,71,82,69,68,73,69,78,84,32,82,85,76,69,83,58,92,110,32,32,49,46,32,85,115,101,32,79,78,76,89,32,114,97,119,47,98,97,115,101,32,105,110,103,114,101,100,105,101,110,116,32,110,97,109,101,115,32,40,101,46,103,46,32,92,34,101,103,103,92,34,32,110,111,116,32,92,34,112,111,97,99,104,101,100,32,101,103,103,92,34,44,32,92,34,99,104,105,99,107,101,110,95,98,114,101,97,115,116,92,34,32,110,111,116,32,92,34,103,114,105,108,108,101,100,32,99,104,105,99,107,101,110,92,34,44,32,92,34,116,111,109,97,116,111,92,34,32,110,111,116,32,92,34,99,104,101,114,114,121,32,116,111,109,97,116,111,101,115,92,34,41,92,110,32,32,50,46,32,66,101,32,83,80,69,67,73,70,73,67,32,45,32,110,111,32,103,101,110,101,114,105,99,32,116,101,114,109,115,32,108,105,107,101,32,92,34,109,105,120,101,100,32,118,101,103,101,116,97,98,108,101,115,92,34,32,45,32,108,105,115,116,32,101,97,99,104,32,118,101,103,101,116,97,98,108,101,32,115,101,112,97,114,97,116,101,108,121,32,40,101,46,103,46,32,92,34,99,97,114,114,111,116,92,34,44,32,92,34,98,114,111,99,99,111,108,105,92,34,44,32,92,34,98,101,108,108,95,112,101,112,112,101,114,92,34,41,92,110,32,32,51,46,32,70,111,114,109,97,116,58,32,92,34,105,110,103,114,101,100,105,101,110,116,95,110,97,109,101,124,97,109,111,117,110,116,124,117,110,105,116,92,34,32,119,104,101,114,101,58,92,110,32,32,32,32,32,45,32,105,110,103,114,101,100,105,101,110,116,95,110,97,109,101,58,32,114,97,119,32,105,110,103,114,101,100,105,101,110,116,32,40,117,115,101,32,117,110,100,101,114,115,99,111,114,101,115,32,102,111,114,32,109,117,108,116,105,45,119,111,114,100,58,32,92,34,111,108,105,118,101,95,111,105,108,92,34,44,32,92,34,99,104,105,99,107,101,110,95,98,114,101,97,115,116,92,34,41,92,110,32,32,32,32,32,45,32,97,109,111,117,110,116,58,32,110,117,109,101,114,105,99,32,118,97,108,117,101,92,110,32,32,32,32,32,45,32,117,110,105,116,58,32,109,101,97,115,117,114,101,109,101,110,116,32,117,110,105,116,32,40,103,44,32,107,103,44,32,109,108,44,32,108,44,32,117,110,105,116,44,32,99,117,112,44,32,116,98,115,112,44,32,116,115,112,44,32,101,116,99,46,41,92,110,32,32,52,46,32,69,120,97,109,112,108,101,115,32,111,102,32,67,79,82,82,69,67,84,32,102,111,114,109,97,116,58,92,110,32,32,32,32,32,45,32,92,34,101,103,103,124,50,124,117,110,105,116,92,34,32,40,110,111,116,32,92,34,112,111,97,99,104,101,100,95,101,103,103,124,50,124,117,110,105,116,92,34,41,92,110,32,32,32,32,32,45,32,92,34,99,104,105,99,107,101,110,95,98,114,101,97,115,116,124,50,48,48,124,103,92,34,32,40,110,111,116,32,92,34,103,114,105,108,108,101,100,95,99,104,105,99,107,101,110,124,50,48,48,124,103,92,34,41,92,110,32,32,32,32,32,45,32,92,34,97,118,111,99,97,100,111,124,49,124,117,110,105,116,92,34,32,40,110,111,116,32,92,34,97,118,111,99,97,100,111,95,49,95,49,55,48,103,92,34,41,92,110,32,32,32,32,32,45,32,92,34,116,111,109,97,116,111,124,49,48,48,124,103,92,34,32,40,110,111,116,32,92,34,99,104,101,114,114,121,95,116,111,109,97,116,111,101,115,124,49,48,48,103,124,102,114,101,115,104,124,117,110,105,116,92,34,41,92,110,32,32,32,32,32,45,32,92,34,119,104,111,108,101,95,119,104,101,97,116,95,98,114,101,97,100,124,49,124,115,108,105,99,101,92,34,32,40,110,111,116,32,92,34,119,104,111,108,101,95,119,104,101,97,116,95,98,114,101,97,100,124,49,124,56,53,103,92,34,41,92,110,32,32,53,46,32,78,69,86,69,82,32,99,111,109,98,105,110,101,32,109,117,108,116,105,112,108,101,32,105,110,103,114,101,100,105,101,110,116,115,32,105,110,32,111,110,101,32,115,116,114,105,110,103,32,45,32,101,97,99,104,32,105,110,103,114,101,100,105,101,110,116,32,109,117,115,116,32,98,101,32,115,101,112,97,114,97,116,101,92,110,32,32,92,110,32,32,87,111,114,107,111,117,116,115,32,109,117,115,116,32,115,112,101,99,105,102,121,58,92,110,32,32,45,32,99,97,116,101,103,111,114,121,58,32,91,99,97,114,100,105,111,44,115,116,114,101,110,103,116,104,44,102,108,101,120,105,98,105,108,105,116,121,44,98,97,108,97,110,99,101,44,101,110,100,117,114,97,110,99,101,44,121,111,103,97,44,112,105,108,97,116,101,115,44,104,105,105,116,44,114,117,110,110,105,110,103,44,99,121,99,108,105,110,103,44,115,119,105,109,109,105,110,103,44,119,97,108,107,105,110,103,44,98,111,100,121,119,101,105,103,104,116,44,119,101,105,103,104,116,115,44,99,111,114,101,44,115,116,114,101,116,99,104,105,110,103,93,32,45,32,109,117,115,116,32,98,101,32,111,110,101,32,111,102,32,116,104,101,115,101,32,101,120,97,99,116,32,118,97,108,117,101,115,92,110,32,32,45,32,100,117,114,97,116,105,111,110,58,32,109,105,110,117,116,101,115,92,110,32,32,45,32,99,97,108,111,114,105,101,115,66,117,114,110,101,100,58,32,101,115,116,105,109,97,116,101,100,32,101,120,112,101,110,100,105,116,117,114,101,92,110,32,32,45,32,105,110,116,101,110,115,105,116,121,58,32,114,101,108,97,116,105,118,101,32,116,111,32,99,108,105,101,110,116,39,115,32,108,101,118,101,108,92,110,32,32,92,110,32,32,74,83,79,78,32,83,116,114,117,99,116,117,114,101,32,40,77,85,83,84,32,70,79,76,76,79,87,32,69,88,65,67,84,76,89,41,58,92,110,32,32,123,92,110,32,32,32,32,92,34,119,101,101,107,108,121,80,108,97,110,92,34,58,32,91,92,110,32,32,32,32,32,32,123,92,110,32,32,32,32,32,32,32,32,92,34,100,97,121,92,34,58,32,92,34,109,111,110,100,97,121,92,34,44,92,110,32,32,32,32,32,32,32,32,92,34,109,101,97,108,115,92,34,58,32,123,92,110,32,32,32,32,32,32,32,32,32,32,92,34,98,114,101,97,107,102,97,115,116,92,34,58,32,123,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,110,97,109,101,92,34,58,32,92,34,115,116,114,105,110,103,92,34,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,99,97,116,101,103,111,114,121,92,34,58,32,92,34,98,114,101,97,107,102,97,115,116,92,34,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,116,97,103,115,92,34,58,32,91,92,34,115,116,114,105,110,103,92,34,93,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,99,97,108,111,114,105,101,115,92,34,58,32,110,117,109,98,101,114,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,109,97,99,114,111,115,92,34,58,32,123,92,34,112,114,111,116,101,105,110,92,34,58,32,110,117,109,98,101,114,44,32,92,34,99,97,114,98,115,92,34,58,32,110,117,109,98,101,114,44,32,92,34,102,97,116,92,34,58,32,110,117,109,98,101,114,125,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,105,110,103,114,101,100,105,101,110,116,115,92,34,58,32,91,92,34,115,116,114,105,110,103,92,34,93,44,92,110,32,32,32,32,32,32,32,32,32,32,32,32,92,34,112,114,101,112,84,105,109,101,92,34,58,32,110,117,109,98,101,114,92,110,32,32,32,32,32,32,32,32,32,32,125,44,92,110,32,32,32,32,32,32,32,32,32,32,92,34,108,117,110,99,104,92,34,58,32,123,32,46,46,46,32,125,44,92,110,32,32,32,32,32,32,32,32,32,32,92,34,100,105,110,110,101,114,92,34,58,32,123,32,46,46,46,32,125,44,92,110,32,32,32,32,32,32,32,32,32,32,92,34,115,110,97,99,107,115,92,34,58,32,91,123,32,92,34,110,97,109,101,92,34,58,32,92,34,115,116,114,105,110,103,92,34,44,32,92,34,99,97,116,101,103,111,114,121,92,34,58,32,92,34,115,110,97,99,107,92,34,44,32,92,34,116,97,103,115,92,34,58,32,91,92,34,115,116,114,105,110,103,92,34,93,44,32,92,34,99,97,108,111,114,105,101,115,92,34,58,32,110,117,109,98,101,114,44,32,92,34,109,97,99,114,111,115,92,34,58,32,123,46,46,46,125,44,32,92,34,105,110,103,114,101,100,105,101,110,116,115,92,34,58,32,91,92,34,115,116,114,105,110,103,92,34,93,44,32,92,34,112,114,101,112,84,105,109,101,92,34,58,32,110,117,109,98,101,114,32,125,93,92,110,32,32,32,32,32,32,32,32,125,44,92,110,32,32,32,32,32,32,32,32,92,34,104,121,100,114,97,116,105,111,110,92,34,58,32,123,92,34,119,97,116,101,114,84,97,114,103,101,116,92,34,58,32,50,48,48,48,44,32,92,34,114,101,99,111,109,109,101,110,100,97,116,105,111,110,115,92,34,58,32,91,92,34,115,116,114,105,110,103,92,34,93,125,44,92,110,32,32,32,32,32,32,32,32,92,34,119,111,114,107,111,117,116,115,92,34,58,32,91,123,92,34,110,97,109,101,92,34,58,32,92,34,115,116,114,105,110,103,92,34,44,32,92,34,99,97,116,101,103,111,114,121,92,34,58,32,92,34,99,97,114,100,105,111,124,115,116,114,101,110,103,116,104,124,102,108,101,120,105,98,105,108,105,116,121,124,115,112,111,114,116,115,92,34,44,32,92,34,100,117,114,97,116,105,111,110,92,34,58,32,110,117,109,98,101,114,44,32,92,34,99,97,108,111,114,105,101,115,66,117,114,110,101,100,92,34,58,32,110,117,109,98,101,114,44,32,92,34,105,110,116,101,110,115,105,116,121,92,34,58,32,92,34,108,111,119,124,109,111,100,101,114,97,116,101,124,104,105,103,104,92,34,125,93,92,110,32,32,32,32,32,32,125,92,110,32,32,32,32,93,92,110,32,32,125,92,110,92,110,73,77,80,79,82,84,65,78,84,58,32,89,111,117,32,77,85,83,84,32,114,101,116,117,114,110,32,79,78,76,89,32,97,32,99,111,109,112,108,101,116,101,32,109,101,97,108,32,112,108,97,110,32,102,111,114,32,97,108,108,32,55,32,100,97,121,115,32,40,77,111,110,100,97,121,32,116,104,114,111,117,103,104,32,83,117,110,100,97,121,41,32,97,115,32,97,32,118,97,108,105,100,32,74,83,79,78,32,111,98,106,101,99,116,46,32,78,111,32,111,116,104,101,114,32,116,101,120,116,44,32,101,120,112,108,97,110,97,116,105,111,110,115,44,32,111,114,32,109,97,114,107,100,111,119,110,32,102,111,114,109,97,116,116,105,110,103,46,92,110,92,110,82,101,116,117,114,110,32,79,78,76,89,32,116,104,101,32,74,83,79,78,32,111,98,106,101,99,116,46,32,78,111,32,111,116,104,101,114,32,116,101,120,116,32,111,114,32,102,111,114,109,97,116,116,105,110,103,46,34,44,34,115,116,114,101,97,109,34,58,102,97,108,115,101,44,34,111,112,116,105,111,110,115,34,58,123,34,116,101,109,112,101,114,97,116,117,114,101,34,58,48,46,55,44,34,116,111,112,95,112,34,58,48,46,57,44,34,116,111,112,95,107,34,58,52,48,125,125],"type":"Buffer"}}],"_requestBodyLength":4764,"_timeout":null,"_writableState":{"bufferedIndex":0,"corked":0,"highWaterMark":65536,"length":0,"pendingcb":0,"writelen":0}},"service":"meal-planner-server","stack":"AxiosError: timeout of 300000ms exceeded\n    at RedirectableRequest.handleRequestTimeout (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/axios/lib/adapters/http.js:657:16)\n    at RedirectableRequest.emit (node:events:519:28)\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/follow-redirects/index.js:221:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)\n    at Axios.request (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/axios/lib/core/Axios.js:45:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:549:9)\n    at process.processTimers (node:internal/timers:523:7)\n    at async callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:74:22)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1366:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:140:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:27:41"}
{"level":"error","message":"Failed to parse AI response: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-12-01 10:29:40"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:958:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:29:40"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:886:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-01 10:29:41"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:886:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-01 10:29:41"}
{"level":"error","message":"Error generating meal plan: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1108:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:29:41"}
{"level":"error","message":"Error generating meal plan with Llama2: Failed to parse JSON from Llama model response: Expected ',' or ']' after array element in JSON at position 2250 (line 74 column 6)","service":"meal-planner-server","stack":"Error: Failed to parse JSON from Llama model response: Expected ',' or ']' after array element in JSON at position 2250 (line 74 column 6)\n    at generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1380:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:140:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:35:03"}
{"level":"error","message":"Failed to parse AI response: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-12-01 10:36:28"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:958:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:36:28"}
{"level":"error","message":"Error generating content with model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:886:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-01 10:36:29"}
{"level":"error","message":"Error generating content with model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:886:24)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:978:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1055:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-01 10:36:29"}
{"level":"error","message":"Error generating meal plan: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1108:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-01 10:36:29"}
{"level":"error","message":"Error generating meal plan with Llama2: Failed to parse JSON from Llama model response: Expected ',' or ']' after array element in JSON at position 2590 (line 85 column 6)","service":"meal-planner-server","stack":"Error: Failed to parse JSON from Llama model response: Expected ',' or ']' after array element in JSON at position 2590 (line 85 column 6)\n    at generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1609:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:169:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:13:48"}
{"level":"error","message":"Failed to parse AI response from gemini-2.5-flash: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-12-02 11:14:55"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1134:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1162:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1239:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:14:55"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Failed to generate content with Gemini model gemini-2.5-flash: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms","level":"error","message":"Model gemini-2.5-flash failed with error:","model":"gemini-2.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 11:14:55"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:960:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1162:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1239:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 11:14:56"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-flash failed with error:","model":"gemini-1.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 11:14:56"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:960:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1162:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1239:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 11:14:56"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-pro failed with error:","model":"gemini-1.5-pro","service":"meal-planner-server","timestamp":"2025-12-02 11:14:56"}
{"level":"error","message":"Error generating meal plan with Gemini: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1297:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:14:56"}
{"level":"error","message":"Error generating meal plan with Llama2: Ollama API error: Request failed with status code 500","service":"meal-planner-server","stack":"Error: Ollama API error: Request failed with status code 500\n    at callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:204:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1662:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:240:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:32:32"}
{"level":"error","message":"Failed to parse AI response from gemini-2.5-flash: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"MongooseError: Operation `meals.find()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","timestamp":"2025-12-02 11:34:00"}
{"level":"error","message":"Error generating content with model gemini-2.5-flash: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms","service":"meal-planner-server","stack":"Error: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms\n    at callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1205:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1233:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1310:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:34:00"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Failed to generate content with Gemini model gemini-2.5-flash: Failed to parse AI response as JSON from gemini-2.5-flash. Response may be malformed. Error: Operation `meals.find()` buffering timed out after 10000ms","level":"error","message":"Model gemini-2.5-flash failed with error:","model":"gemini-2.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 11:34:00"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1031:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1233:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1310:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 11:34:01"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-flash failed with error:","model":"gemini-1.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 11:34:01"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1031:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1233:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1310:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 11:34:01"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-pro failed with error:","model":"gemini-1.5-pro","service":"meal-planner-server","timestamp":"2025-12-02 11:34:01"}
{"level":"error","message":"Error generating meal plan with Gemini: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1368:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 11:34:01"}
{"level":"error","message":"Error generating meal plan with Llama2: Ollama API error: Request failed with status code 404","service":"meal-planner-server","stack":"Error: Ollama API error: Request failed with status code 404\n    at callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:204:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1738:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:240:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 12:36:10"}
{"level":"error","message":"Error generating meal plan with Llama2: Ollama API error: Request failed with status code 404","service":"meal-planner-server","stack":"Error: Ollama API error: Request failed with status code 404\n    at callOllama (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:204:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1738:27)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:240:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 12:43:33"}
{"attempts":3,"error":"Expected double-quoted property name in JSON at position 35 (line 2 column 34)","jsonLength":4382,"jsonPreview":"{\n        \"Monday\": \"2022-01-01\",  # Start Date\n        \"Sunday\": \"2022-01-07\",  # End Date\n    }\n\n    # Step 2: Create a dictionary for each day of the week in the Meal Plan Period\n    day_dicts = []\n    for i, day in enumerate([\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]):\n        start_date = datetime.strptime(meals[f\"{i+1}/7\"], \"%Y-%m-%d\")  # Get the start date of the day\n        end_date = (start_date + timedelta(days=6)).replace(day=8)  # Calculate the end date of the day as Friday\n        day_dicts.append({\n            \"name\": f\"{i+1}/7\",\n            \"date\": start_date,\n            \"period\": {\n                \"startDate\": start_date.strftime(\"%Y-%m-%d\"),  # Format the date as YYYY-MM-DD for presentation\n                \"endDate\": end_date.strftime(\"%Y-%m-%d\"),  # Format the date as YYYY-MM-DD for presentation\n            }\n        })\n\n    # Step 3: Create a dictionary for hydration with waterTarget and recommendations\n    hydration = {\n        \"","level":"error","message":"Failed to parse JSON from Llama response after multiple attempts:","service":"meal-planner-server","timestamp":"2025-12-02 12:51:32"}
{"level":"error","message":"Error generating meal plan with Llama2: Failed to parse JSON from Llama model response after 3 repair attempts.\nError at position 35 (line 2): Expected double-quoted property name in JSON at position 35 (line 2 column 34)\nContext around error:\n{\n        \"Monday\": \"2022-01-01\",  # Start Date\n        \"Sunday\": \"2022-01-07\",  # End Date\n    }\n\n    # Step 2: Create a dictionary for each day of the week in the Meal Plan Period\n    day_dicts = []\n    for i, day in enumerate([\"Mond\n\nThe JSON may contain syntax errors that could not be automatically repaired. Please try generating the meal plan again.","service":"meal-planner-server","stack":"Error: Failed to parse JSON from Llama model response after 3 repair attempts.\nError at position 35 (line 2): Expected double-quoted property name in JSON at position 35 (line 2 column 34)\nContext around error:\n{\n        \"Monday\": \"2022-01-01\",  # Start Date\n        \"Sunday\": \"2022-01-07\",  # End Date\n    }\n\n    # Step 2: Create a dictionary for each day of the week in the Meal Plan Period\n    day_dicts = []\n    for i, day in enumerate([\"Mond\n\nThe JSON may contain syntax errors that could not be automatically repaired. Please try generating the meal plan again.\n    at generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1803:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:240:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 12:51:32"}
{"level":"error","message":"Gemini API call failed for model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: fetch failed","service":"meal-planner-server","stack":"TypeError: fetch failed\n    at node:internal/deps/undici/undici:14900:13\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:397:20)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1107:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1309:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1386:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 13:10:18"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-2.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: fetch failed","level":"error","message":"Model gemini-2.5-flash failed with error:","model":"gemini-2.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 13:10:18"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1107:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1309:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1386:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 13:10:18"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-flash: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent: [404 Not Found] models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-flash failed with error:","model":"gemini-1.5-flash","service":"meal-planner-server","timestamp":"2025-12-02 13:10:18"}
{"level":"error","message":"Gemini API call failed for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at handleResponseNotOk (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:434:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async makeRequest (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:403:9)\n    at async generateContent (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@google/generative-ai/dist/index.js:867:22)\n    at async callModel (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1107:20)\n    at async retryWithBackoff (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1309:18)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1386:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","status":404,"statusText":"Not Found","timestamp":"2025-12-02 13:10:18"}
{"apiKeyConfigured":true,"apiKeyLength":39,"error":"Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","level":"error","message":"Model gemini-1.5-pro failed with error:","model":"gemini-1.5-pro","service":"meal-planner-server","timestamp":"2025-12-02 13:10:18"}
{"level":"error","message":"Error generating meal plan with Gemini: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","service":"meal-planner-server","stack":"Error: All Gemini models failed. Last error: Gemini API error for model gemini-1.5-pro: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent: [404 Not Found] models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1444:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 13:10:18"}
{"attempts":3,"error":"Unexpected non-whitespace character after JSON at position 180 (line 7 column 5)","jsonLength":2802,"jsonPreview":"{\n        \"oatmeal\": [\"oats\", \"water\", \"honey\"],\n        \"avocado toast\": [\"bread\", \"avocado\", \"egg\", \"salt\", \"pepper\"],\n        \"smoothie\": [\"fruit\", \"milk\", \"yogurt\"]\n    }\n\n    lunches = {\n        \"grilled chicken salad\": [\"chicken breast\", \"lettuce\", \"tomato\", \"cucumber\", \"dressing\"],\n        \"spaghetti with meatballs\": [\"spaghetti\", \"ground beef\", \"breadcrumbs\", \"eggs\", \"parmesan cheese\"],\n        \"tacos\": [\"tortillas\", \"ground beef\", \"lettuce\", \"cheese\", \"salsa\"]\n    }\n\n    dinnertimes = {\n        \"grilled salmon\": [\"salmon fillet\", \"lemon\", \"garlic\", \"olive oil\"],\n        \"chicken stir-fry\": [\"chicken breast\", \"broccoli\", \"carrots\", \"soy sauce\", \"rice\"],\n        \"vegetable curry\": [\"curry paste\", \"onion\", \"garlic\", \"tomato\", \"coconut milk\", \"cauliflower\"]\n    }\n\n    snacks = {\n        \"energy bar\": [\"bar\", \"protein powder\", \"flaxseeds\", \"honey\"],\n        \"frozen yogurt\": [\"yogurt\", \"fruit\", \"honey\", \"chocolate chips\"],\n        \"granola\": [\"oats\", \"nuts\", \"berries\", \"honey\"]\n    ","level":"error","message":"Failed to parse JSON from Llama response after multiple attempts:","service":"meal-planner-server","timestamp":"2025-12-02 14:12:39"}
{"level":"error","message":"Error generating meal plan with Llama2: Failed to parse JSON from Llama model response after 3 repair attempts.\nError at position 180 (line 7): Unexpected non-whitespace character after JSON at position 180 (line 7 column 5)\nContext around error:\n{\n        \"oatmeal\": [\"oats\", \"water\", \"honey\"],\n        \"avocado toast\": [\"bread\", \"avocado\", \"egg\", \"salt\", \"pepper\"],\n        \"smoothie\": [\"fruit\", \"milk\", \"yogurt\"]\n    }\n\n    lunches = {\n        \"grilled chicken salad\": [\"chicken breast\", \"lettuce\", \"tomato\", \"cucumber\", \"dressing\"],\n        \"spaghetti with meatballs\": [\"spaghetti\", \"ground beef\", \"breadcrumbs\", \"eggs\", \"p\n\nThe JSON may contain syntax errors that could not be automatically repaired. Please try generating the meal plan again.","service":"meal-planner-server","stack":"Error: Failed to parse JSON from Llama model response after 3 repair attempts.\nError at position 180 (line 7): Unexpected non-whitespace character after JSON at position 180 (line 7 column 5)\nContext around error:\n{\n        \"oatmeal\": [\"oats\", \"water\", \"honey\"],\n        \"avocado toast\": [\"bread\", \"avocado\", \"egg\", \"salt\", \"pepper\"],\n        \"smoothie\": [\"fruit\", \"milk\", \"yogurt\"]\n    }\n\n    lunches = {\n        \"grilled chicken salad\": [\"chicken breast\", \"lettuce\", \"tomato\", \"cucumber\", \"dressing\"],\n        \"spaghetti with meatballs\": [\"spaghetti\", \"ground beef\", \"breadcrumbs\", \"eggs\", \"p\n\nThe JSON may contain syntax errors that could not be automatically repaired. Please try generating the meal plan again.\n    at generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:1803:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:240:16)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:55:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-02 14:12:39"}
{"level":"error","message":"[Gemini] Missing weeklyPlan. Response structure: [\"meal_plan\"]","service":"meal-planner-server","timestamp":"2025-12-02 19:14:30"}
{"level":"error","message":"[Gemini] Full response: {\"meal_plan\":[{\"date\":\"2023-12-31\",\"day\":\"monday\",\"meals\":{\"breakfast\":{\"name\":\"Oatmeal with Berries, Protein, and Nuts\",\"ingredients\":[\"oats|60|g|Grains\",\"whey_protein_powder|25|g|Proteins\",\"strawberry|100|g|Fruits\",\"blueberry|50|g|Fruits\",\"almonds|15|g|Pantry\",\"milk|200|ml|Dairy\"]},\"lunch\":{\"name\":\"Chicken and Quinoa Salad\",\"ingredients\":[\"chicken_breast|150|g|Proteins\",\"quinoa|100|g|Grains\",\"spinach|80|g|Vegetables\",\"cucumber|80|g|Vegetables\",\"cherry_tomato|100|g|Vegetables\",\"bell_pepper|70|g|Vegetables\",\"olive_oil|15|ml|Pantry\",\"lemon_juice|10|ml|Pantry\",\"salt|3|g|Spices\",\"black_pepper|2|g|Spices\"]},\"dinner\":{\"name\":\"Baked Salmon with Sweet Potato and Asparagus\",\"ingredients\":[\"salmon_fillet|180|g|Proteins\",\"sweet_potato|200|g|Vegetables\",\"asparagus|150|g|Vegetables\",\"olive_oil|15|ml|Pantry\",\"garlic|10|g|Pantry\",\"dill|5|g|Spices\",\"salt|3|g|Spices\",\"black_pepper|2|g|Spices\"]},\"snacks\":[{\"name\":\"Greek Yogurt with Apple Slices\",\"ingredients\":[\"greek_yogurt|150|g|Dairy\",\"apple|180|g|Fruits\"]},{\"name\":\"Post-Workout Protein Shake with Banana\",\"ingredients\":[\"whey_protein_powder|30|g|Proteins\",\"banana|120|g|Fruits\",\"milk|200|ml|Dairy\"]}],\"hydration\":[\"water|3000|ml|Pantry\"],\"workouts\":[\"strength_training|60|min|Pantry\"]}},{\"date\":\"2024-01-01\",\"day\":\"tuesday\",\"meals\":{\"breakfast\":{\"name\":\"Scrambled Eggs with Whole Wheat Toast and Avocado\",\"ingredients\":[\"egg|3|unit|Proteins\",\"whole_wheat_bread|80|g|Grains\",\"avocado|80|g|Fruits\",\"spinach|50|g|Vegetables\",\"olive_oil|10|ml|Pantry\",\"salt|3|g|Spices\",\"black_pepper|2|g|Spices\"]},\"lunch\":{\"name\":\"Lentil and Vegetable Soup with Whole Grain Bread\",\"ingredients\":[\"red_lentils|100|g|Proteins\",\"carrot|80|g|Vegetables\",\"celery|50|g|Vegetables\",\"onion|50|g|Vegetables\",\"tomato_puree|50|g|Pantry\",\"vegetable_broth|300|ml|Pantry\",\"whole_wheat_bread|80|g|Grains\",\"olive_oil|10|ml|Pantry\",\"cumin|3|g|Spices\",\"salt|3|g|Spices\",\"black_pepper|2|g|Spices\"]},\"dinner\":{\"name\":\"Turkey Mince Stir-fry with Brown Rice\",\"ingredients\":[\"turkey_mince|180","service":"meal-planner-server","timestamp":"2025-12-02 19:14:30"}
{"level":"error","message":"[Gemini] Missing weeklyPlan in response. Response keys: monday, tuesday, wednesday, thursday, friday, saturday, sunday. Response preview: {\"monday\":{\"date\":\"2023-12-31\",\"breakfast\":[\"oats|70|g|Grains\",\"whey_protein_powder|20|g|Proteins\",\"banana|120|g|Fruits\",\"almonds|15|g|Pantry\",\"cow_milk|200|ml|Dairy\",\"chia_seeds|10|g|Pantry\"],\"lunch\":[\"chicken_breast|150|g|Proteins\",\"brown_rice|70|g|Grains\",\"broccoli|150|g|Vegetables\",\"carrot|100|g|Vegetables\",\"olive_oil|15|ml|Pantry\",\"red_onion|50|g|Vegetables\"],\"dinner\":[\"salmon_fillet|150|g|Proteins\",\"sweet_potato|200|g|Vegetables\",\"spinach|200|g|Vegetables\",\"olive_oil|15|ml|Pantry\",\"avocado|50|g|Fruits\"],\"snacks\":[\"apple|150|g|Fruits\",\"rice_cake|30|g|Grains\",\"peanut_butter|15|g|Pantry\",\"greek_yogurt|180|g|Dairy\",\"blueberries|100|g|Fruits\"],\"hydration\":[\"water|2500|ml|Pantry\"],\"workouts\":[\"strength_training|60|minutes|Exercise\"]},\"tuesday\":{\"date\":\"2024-01-01\",\"breakfast\":[\"egg|3|unit|Proteins\",\"whole_wheat_bread|100|g|Grains\",\"spinach|50|g|Vegetables\",\"tomato|100|g|Vegetables\",\"olive_oil|5|ml|Pantry\"],\"lunch\":[\"canned_tuna_in_water|150|g|Proteins\",\"quinoa|80|g|Grains\",\"cucumber|100|g|Vegetables\",\"bell_pepper|100|g|Vegetables\",\"lemon_juice|15|ml|Pantry\",\"olive_oil|10|ml|Pantry\"],\"dinner\":[\"turkey_mince|180|g|Proteins\",\"whole_wheat_pasta|80|g|Grains\",\"zucchini|150|g|Vegetables\",\"tomato|150|g|Vegetables\",\"garlic|10|g|Spices\",\"olive_oil|10|ml|Pantry\"],\"snacks\":[\"orange|150|g|Fruits\",\"walnuts|30|g|Pantry\",\"cottage_cheese|150|g|Dairy\"],\"hydration\":[\"water|2500|ml|Pantry\"],\"workouts\":[]},\"wednesday\":{\"date\":\"2024-01-02\",\"breakfast\":[\"oats|70|g|Grains\",\"whey_protein_powder|20|g|Proteins\",\"berries|150|g|Fruits\",\"almonds|15|g|Pantry\",\"cow_milk|200|ml|Dairy\",\"flax_seeds|10|g|Pantry\"],\"lunch\":[\"beef_mince_lean|150|g|Proteins\",\"brown_rice|70|g|Grains\",\"green_beans|150|g|Vegetables\",\"onion|50|g|Vegetables\",\"olive_oil|15|ml|Pantry\"],\"dinner\":[\"cod_fillet|180|g|Proteins\",\"quinoa|80|g|Grains\",\"asparagus|200|g|Vegetables\",\"cherry_tomato|100|g|Vegetables\",\"olive_oil|15|ml|Pantry\"],\"snacks\":[\"pear|150|g|Fruits\",\"rice_cake|30|g|Grains\",\"almond_butter|15|g|Pantry\",\"greek_yogurt|180|","service":"meal-planner-server","timestamp":"2025-12-02 19:17:26"}
{"level":"error","message":"[Gemini] Missing weeklyPlan in response. Response keys: monday, tuesday, wednesday, thursday, friday, saturday, sunday. Response preview: {\"monday\":{\"date\":\"2023-12-31\",\"breakfast\":{\"meal_name\":\"Protein Oats with Berries & Almonds\",\"ingredients\":[\"rolled_oats|80|g|Grains\",\"whey_protein|30|g|Proteins\",\"blueberry|100|g|Fruits\",\"almond|15|g|Proteins\",\"water|250|ml|Pantry\",\"cinnamon|1|tsp|Spices\"]},\"lunch\":{\"meal_name\":\"Chicken Quinoa Salad with Avocado\",\"ingredients\":[\"chicken_breast|180|g|Proteins\",\"quinoa|100|g|Grains\",\"spinach|70|g|Vegetables\",\"cucumber|70|g|Vegetables\",\"cherry_tomato|70|g|Vegetables\",\"avocado|40|g|Fruits\",\"olive_oil|10|ml|Pantry\",\"lemon_juice|10|ml|Pantry\",\"salt|1|pinch|Spices\",\"black_pepper|1|pinch|Spices\"]},\"dinner\":{\"meal_name\":\"Baked Salmon with Roasted Sweet Potato & Broccoli\",\"ingredients\":[\"salmon_fillet|150|g|Proteins\",\"sweet_potato|280|g|Vegetables\",\"broccoli|150|g|Vegetables\",\"olive_oil|10|ml|Pantry\",\"garlic_powder|1|tsp|Spices\",\"paprika|1|tsp|Spices\",\"salt|1|pinch|Spices\",\"black_pepper|1|pinch|Spices\"]},\"snacks\":[{\"snack_name\":\"Greek Yogurt with Banana\",\"ingredients\":[\"greek_yogurt_plain|200|g|Dairy\",\"banana|120|g|Fruits\"]},{\"snack_name\":\"Rice Cakes with Peanut Butter\",\"ingredients\":[\"rice_cake|2|unit|Grains\",\"peanut_butter|25|g|Proteins\"]}],\"hydration\":{\"recommendation\":\"Aim for 3 liters of water throughout the day.\",\"ingredients\":[\"water|3000|ml|Pantry\"]},\"workouts\":\"Strength training (Full Body)\"},\"tuesday\":{\"date\":\"2024-01-01\",\"breakfast\":{\"meal_name\":\"Scrambled Eggs with Whole Wheat Toast & Avocado\",\"ingredients\":[\"egg|4|unit|Proteins\",\"whole_wheat_bread|2|slice|Grains\",\"avocado|50|g|Fruits\",\"spinach|50|g|Vegetables\",\"olive_oil|5|ml|Pantry\",\"salt|1|pinch|Spices\",\"black_pepper|1|pinch|Spices\"]},\"lunch\":{\"meal_name\":\"Lentil Soup with Whole Wheat Bread\",\"ingredients\":[\"red_lentil|100|g|Proteins\",\"onion|50|g|Vegetables\",\"carrot|50|g|Vegetables\",\"celery|50|g|Vegetables\",\"tomato_paste|20|g|Pantry\",\"vegetable_broth|300|ml|Pantry\",\"whole_wheat_bread|1|slice|Grains\",\"olive_oil|10|ml|Pantry\",\"cumin|1|tsp|Spices\",\"salt|1|pinch|Spices\",\"black_pepper|1|pinch|Spices\"]},\"dinner\":{\"m","service":"meal-planner-server","timestamp":"2025-12-02 19:18:50"}
{"level":"error","message":"[Llama] Generation failed: parsedResponse.weeklyPlan.forEach is not a function","service":"meal-planner-server","stack":"TypeError: parsedResponse.weeklyPlan.forEach is not a function\n    at transformWeeklyPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/utils/helpers.ts:550:29)\n    at generateMealPlanWithLlama2 (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:876:54)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:663:14)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:69:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-03 08:51:36"}
{"level":"error","message":"Meal plan generation failed: Both Gemini and Llama failed. Llama: Llama failed: parsedResponse.weeklyPlan.forEach is not a function","service":"meal-planner-server","stack":"Error: Both Gemini and Llama failed. Llama: Llama failed: parsedResponse.weeklyPlan.forEach is not a function\n    at Object.generateMealPlanWithAI (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generate.service.ts:671:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async GeneratorService.generateWeeklyMealPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/generator/generator.service.ts:69:9)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-03 08:51:36"}
{"level":"error","message":"[transformWeeklyPlan] Invalid date format in day: undefined","service":"meal-planner-server","timestamp":"2025-12-03 09:13:47"}
{"level":"error","message":"[transformWeeklyPlan] Invalid date format in day: undefined","service":"meal-planner-server","timestamp":"2025-12-03 09:13:47"}
{"level":"error","message":"[transformWeeklyPlan] Invalid date format in day: undefined","service":"meal-planner-server","timestamp":"2025-12-03 09:18:15"}
{"level":"error","message":"[transformWeeklyPlan] Invalid date format in day: undefined","service":"meal-planner-server","timestamp":"2025-12-03 09:18:15"}
{"0":"T","1":"o","10":" ","100":"0","101":"0","102":"5","103":"7","104":"4","105":"8","106":"-","107":"s","108":"p","109":"b","11":"t","110":"r","111":"l","112":"l","113":"l","114":"6","115":"u","116":"b","117":"c","118":"c","119":"5","12":"o","120":"4","121":"g","122":"j","123":"g","124":"8","125":"g","126":"o","127":"v","128":"g","129":"s","13":"o","130":"6","131":"e","132":"7","133":"o","134":"7","135":"p","136":"5","137":"3","138":"3","139":".","14":" ","140":"a","141":"p","142":"p","143":"s","144":".","145":"g","146":"o","147":"o","148":"g","149":"l","15":"l","150":"e","151":"u","152":"s","153":"e","154":"r","155":"c","156":"o","157":"n","158":"t","159":"e","16":"a","160":"n","161":"t","162":".","163":"c","164":"o","165":"m","166":"\"","167":",","168":"\"","169":"a","17":"t","170":"u","171":"d","172":"\"","173":":","174":"\"","175":"8","176":"4","177":"1","178":"9","179":"1","18":"e","180":"1","181":"0","182":"0","183":"5","184":"7","185":"4","186":"8","187":"-","188":"s","189":"p","19":",","190":"b","191":"r","192":"l","193":"l","194":"l","195":"6","196":"u","197":"b","198":"c","199":"c","2":"k","20":" ","200":"5","201":"4","202":"g","203":"j","204":"g","205":"8","206":"g","207":"o","208":"v","209":"g","21":"1","210":"s","211":"6","212":"e","213":"7","214":"o","215":"7","216":"p","217":"5","218":"3","219":"3","22":"7","220":".","221":"a","222":"p","223":"p","224":"s","225":".","226":"g","227":"o","228":"o","229":"g","23":"6","230":"l","231":"e","232":"u","233":"s","234":"e","235":"r","236":"c","237":"o","238":"n","239":"t","24":"4","240":"e","241":"n","242":"t","243":".","244":"c","245":"o","246":"m","247":"\"","248":",","249":"\"","25":"7","250":"s","251":"u","252":"b","253":"\"","254":":","255":"\"","256":"1","257":"0","258":"6","259":"8","26":"9","260":"3","261":"8","262":"0","263":"1","264":"5","265":"9","266":"1","267":"9","268":"6","269":"6","27":"3","270":"3","271":"0","272":"0","273":"3","274":"2","275":"2","276":"4","277":"\"","278":",","279":"\"","28":"9","280":"e","281":"m","282":"a","283":"i","284":"l","285":"\"","286":":","287":"\"","288":"y","289":"u","29":"9","290":"v","291":"a","292":"l","293":"m","294":"a","295":"n","296":"d","297":"l","298":"e","299":"r","3":"e","30":"8","300":"@","301":"g","302":"m","303":"a","304":"i","305":"l","306":".","307":"c","308":"o","309":"m","31":".","310":"\"","311":",","312":"\"","313":"e","314":"m","315":"a","316":"i","317":"l","318":"_","319":"v","32":"2","320":"e","321":"r","322":"i","323":"f","324":"i","325":"e","326":"d","327":"\"","328":":","329":"t","33":"0","330":"r","331":"u","332":"e","333":",","334":"\"","335":"n","336":"b","337":"f","338":"\"","339":":","34":"8","340":"1","341":"7","342":"6","343":"4","344":"7","345":"8","346":"5","347":"7","348":"1","349":"2","35":" ","350":",","351":"\"","352":"n","353":"a","354":"m","355":"e","356":"\"","357":":","358":"\"","359":"Y","36":">","360":"u","361":"v","362":"a","363":"l","364":" ","365":"M","366":"a","367":"n","368":"d","369":"l","37":" ","370":"e","371":"r","372":"\"","373":",","374":"\"","375":"p","376":"i","377":"c","378":"t","379":"u","38":"1","380":"r","381":"e","382":"\"","383":":","384":"\"","385":"h","386":"t","387":"t","388":"p","389":"s","39":"7","390":":","391":"/","392":"/","393":"l","394":"h","395":"3","396":".","397":"g","398":"o","399":"o","4":"n","40":"6","400":"g","401":"l","402":"e","403":"u","404":"s","405":"e","406":"r","407":"c","408":"o","409":"n","41":"4","410":"t","411":"e","412":"n","413":"t","414":".","415":"c","416":"o","417":"m","418":"/","419":"a","42":"7","420":"/","421":"A","422":"C","423":"g","424":"8","425":"o","426":"c","427":"K","428":"x","429":"e","43":"8","430":"-","431":"a","432":"G","433":"o","434":"B","435":"k","436":"K","437":"N","438":"d","439":"_","44":"9","440":"b","441":"a","442":"t","443":"a","444":"M","445":"i","446":"f","447":"1","448":"N","449":"n","45":"9","450":"q","451":"q","452":"K","453":"A","454":"t","455":"9","456":"q","457":"0","458":"3","459":"Q","46":"1","460":"y","461":"H","462":"p","463":"_","464":"D","465":"S","466":"Q","467":"c","468":"3","469":"N","47":"2","470":"t","471":"L","472":"2","473":"P","474":"w","475":"=","476":"s","477":"9","478":"6","479":"-","48":":","480":"c","481":"\"","482":",","483":"\"","484":"g","485":"i","486":"v","487":"e","488":"n","489":"_","49":" ","490":"n","491":"a","492":"m","493":"e","494":"\"","495":":","496":"\"","497":"Y","498":"u","499":"v","5":" ","50":"{","500":"a","501":"l","502":"\"","503":",","504":"\"","505":"f","506":"a","507":"m","508":"i","509":"l","51":"\"","510":"y","511":"_","512":"n","513":"a","514":"m","515":"e","516":"\"","517":":","518":"\"","519":"M","52":"i","520":"a","521":"n","522":"d","523":"l","524":"e","525":"r","526":"\"","527":",","528":"\"","529":"i","53":"s","530":"a","531":"t","532":"\"","533":":","534":"1","535":"7","536":"6","537":"4","538":"7","539":"8","54":"s","540":"6","541":"0","542":"1","543":"2","544":",","545":"\"","546":"e","547":"x","548":"p","549":"\"","55":"\"","550":":","551":"1","552":"7","553":"6","554":"4","555":"7","556":"8","557":"9","558":"6","559":"1","56":":","560":"2","561":",","562":"\"","563":"j","564":"t","565":"i","566":"\"","567":":","568":"\"","569":"4","57":"\"","570":"4","571":"1","572":"5","573":"8","574":"c","575":"4","576":"6","577":"6","578":"2","579":"7","58":"h","580":"7","581":"f","582":"6","583":"0","584":"a","585":"a","586":"a","587":"c","588":"7","589":"b","59":"t","590":"8","591":"e","592":"b","593":"9","594":"e","595":"7","596":"b","597":"2","598":"1","599":"5","6":"u","60":"t","600":"9","601":"0","602":"d","603":"6","604":"3","605":"e","606":"c","607":"3","608":"f","609":"\"","61":"p","610":"}","62":"s","63":":","64":"/","65":"/","66":"a","67":"c","68":"c","69":"o","7":"s","70":"u","71":"n","72":"t","73":"s","74":".","75":"g","76":"o","77":"o","78":"g","79":"l","8":"e","80":"e","81":".","82":"c","83":"o","84":"m","85":"\"","86":",","87":"\"","88":"a","89":"z","9":"d","90":"p","91":"\"","92":":","93":"\"","94":"8","95":"4","96":"1","97":"9","98":"1","99":"1","level":"error","message":"Google token verification error:","service":"meal-planner-server","timestamp":"2025-12-03 22:33:18"}
{"level":"error","message":"jwt malformed","name":"JsonWebTokenError","service":"meal-planner-server","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/jsonwebtoken/verify.js:70:17)\n    at /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/jwt/dist/jwt.service.js:75:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-04 21:31:40"}
{"level":"error","message":"jwt malformed","name":"JsonWebTokenError","service":"meal-planner-server","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/jsonwebtoken/verify.js:70:17)\n    at /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/jwt/dist/jwt.service.js:75:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-04 21:42:37"}
{"level":"error","message":"jwt malformed","name":"JsonWebTokenError","service":"meal-planner-server","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/jsonwebtoken/verify.js:70:17)\n    at /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/jwt/dist/jwt.service.js:75:17\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-05 15:38:22"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:24"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:24"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:24"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:47"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:29:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:30:10"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:30:10"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:30:10"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:48:10"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:48:10"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-07 11:48:10"}
{"0":"6","1":"9","10":"5","11":"7","12":"8","13":"9","14":"5","15":"f","16":"2","17":"8","18":"e","19":"7","2":"3","20":"b","21":"8","22":"6","23":"f","3":"6","4":"e","5":"b","6":"8","7":"0","8":"7","9":"4","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:56:11"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:56:22"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:56:22"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:56:22"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:02"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:02"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:02"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:06"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:06"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-12 14:57:06"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:05"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:05"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:05"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:42"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:42"}
{"0":"n","1":"o","10":"t","2":"n","3":"e","4":"x","5":"i","6":"s","7":"t","8":"e","9":"n","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-13 06:58:42"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:09:58"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:09:58"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:09:58"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:16:13"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:16:13"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:16:13"}
{"0":"6","1":"9","10":"5","11":"7","12":"8","13":"9","14":"5","15":"f","16":"2","17":"8","18":"e","19":"7","2":"3","20":"b","21":"8","22":"7","23":"4","3":"6","4":"e","5":"b","6":"8","7":"0","8":"7","9":"4","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:18:21"}
{"0":"6","1":"9","10":"5","11":"7","12":"8","13":"9","14":"5","15":"f","16":"2","17":"8","18":"e","19":"7","2":"3","20":"b","21":"8","22":"7","23":"4","3":"6","4":"e","5":"b","6":"8","7":"0","8":"7","9":"4","level":"error","message":"Meal not found with ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:24:31"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:33:14"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:33:14"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-13 07:33:14"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:33:46"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:33:46"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-13 07:33:46"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:37:22"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:37:22"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:37:22"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:44:48"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:44:48"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:44:48"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:47:26"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:47:26"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-13 07:47:27"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:53:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-13 07:53:47"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-13 07:53:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:03:15"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:03:15"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 09:03:15"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:11:27"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:11:27"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 09:11:27"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:40:16"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:40:16"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 09:40:16"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:41:46"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 09:41:46"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 09:41:46"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 11:21:48"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 11:21:48"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 11:21:48"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 11:45:43"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 11:45:43"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 11:45:43"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 12:24:30"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 12:24:30"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 12:24:30"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 12:46:10"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 12:46:10"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-14 12:46:10"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:04:48"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:05:06"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:05:06"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:05:06"}
{"0":"D","1":"u","2":"m","3":"p","4":"l","5":"i","6":"n","7":"g","8":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:06:43"}
{"0":"S","1":"t","2":"i","3":"r","4":"-","5":"f","6":"r","7":"y","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:06:43"}
{"0":"B","1":"u","2":"r","3":"g","4":"e","5":"r","6":"s","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-14 14:06:43"}
{"level":"error","message":"Meal not found with ID: undefined","service":"meal-planner-server","timestamp":"2025-12-14 14:12:19"}
{"level":"error","message":"Meal not found with ID: undefined","service":"meal-planner-server","timestamp":"2025-12-14 14:12:43"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:12:02"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:12:02"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-15 10:12:02"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:30:06"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:30:06"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-15 10:30:06"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:38:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 10:38:47"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-15 10:38:47"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 11:14:46"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 11:14:46"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-15 11:14:46"}
{"0":"m","1":"e","2":"a","3":"l","4":"1","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 11:17:00"}
{"0":"m","1":"e","2":"a","3":"l","4":"2","level":"error","message":"Invalid meal ID:","service":"meal-planner-server","timestamp":"2025-12-15 11:17:00"}
{"level":"error","message":"Meal not found with ID: nonexistent","service":"meal-planner-server","timestamp":"2025-12-15 11:17:00"}
{"level":"error","message":"Error syncing shopping list with plan: ingredientName.toLowerCase is not a function","service":"meal-planner-server","stack":"TypeError: ingredientName.toLowerCase is not a function\n    at PlanService.normalizeIngredientKey (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/plan/plan.service.ts:234:8)\n    at <anonymous> (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/plan/plan.service.ts:279:26)\n    at Array.forEach (<anonymous>)\n    at PlanService.syncShoppingListWithPlan (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/plan/plan.service.ts:274:22)\n    at PlanService.replaceMeal (/Users/finq/Desktop/code/side-projects/Habeat/habeat-server/src/plan/plan.service.ts:1394:16)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-execution-context.js:46:28\n    at async /Users/finq/Desktop/code/side-projects/Habeat/habeat-server/node_modules/@nestjs/core/router/router-proxy.js:9:17","timestamp":"2025-12-18 12:10:26"}
